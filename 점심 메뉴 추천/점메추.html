<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì ì‹¬ ë©”ë‰´ ì¶”ì²œ</title>
    <style>
        body {
          font-family: "Pretendard", Arial, sans-serif;
          background: #f9f9fb;
          margin: 0;
          padding: 0;
        }
        .container {
          max-width: 700px;
          margin: 40px auto;
          padding: 30px;
          background: white;
          border-radius: 20px;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        h1 {
          text-align: center;
          margin-bottom: 30px;
          font-size: 28px;
          color: #333;
        }
        section {
          margin-bottom: 25px;
        }
        label {
          display: block;
          margin: 8px 0 10px;
          font-weight: bold;
          color: #444;
        }
        select, input[type="text"], button {
          width: 100%;
          padding: 10px;
          margin-top: 5px;
          border-radius: 8px;
          border: 1px solid #ddd;
          font-size: 16px;
        }
        input[type="range"] {
          width: 100%;
        }
        .budget-label {
          display: flex;
          justify-content: space-between;
          font-size: 14px;
          color: #666;
        }
        .radio-group {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
        }
        .toggle-btn {
          flex: 1;
          text-align: center;
          padding: 10px;
          border: 2px solid #ccc;
          border-radius: 10px;
          cursor: pointer;
          transition: 0.2s;
          background: #fafafa;
        }
        .toggle-btn.active {
          background: #4CAF50;
          color: white;
          border-color: #4CAF50;
          font-weight: bold;
        }
        button {
          background: #4CAF50;
          color: white;
          border: none;
          cursor: pointer;
          font-size: 18px;
          transition: 0.2s;
        }
        button:hover {
          background: #45a049;
        }
        .result {
          margin-top: 25px;
          padding: 20px;
          background: #f0fdf4;
          border-left: 6px solid #4CAF50;
          border-radius: 10px;
          font-weight: bold;
          font-size: 18px;
          color: #333;
          text-align: center;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ± ì˜¤ëŠ˜ì˜ ì ì‹¬ ë©”ë‰´ ì¶”ì²œ</h1>

    <form id="menuForm">
        <!-- ë§µê¸° ì •ë„ -->
        <section>
            <label for="spicy">ë§µê¸° ì •ë„</label>
            <select id="spicy" name="spicy">
                <option value="ì „ì²´">ìƒê´€ì—†ìŒ</option>
                <option value="ìˆœí•œë§›">ìˆœí•œë§›</option>
                <option value="ë³´í†µë§›">ë³´í†µë§›</option>
                <option value="ë§¤ìš´ë§›">ë§¤ìš´ë§›</option>
            </select>
        </section>

        <!-- ì˜ˆì‚° -->
        <section>
            <label for="budget">ì˜ˆì‚°</label>
            <input type="range" id="budget" name="budget" min="5000" max="20000" step="1000" value="10000" />
            <div class="budget-label">
                <span>5,000ì›</span>
                <span id="budgetValue">10,000ì›</span>
                <span>20,000ì›</span>
            </div>
        </section>

        <!-- ìŒì‹ ì¢…ë¥˜ -->
        <section>
            <label>ìŒì‹ ì¢…ë¥˜</label>
            <div class="radio-group" id="foodGroup">
                <div class="toggle-btn" data-value="í•œì‹">í•œì‹</div>
                <div class="toggle-btn" data-value="ì¤‘ì‹">ì¤‘ì‹</div>
                <div class="toggle-btn" data-value="ì¼ì‹">ì¼ì‹</div>
                <div class="toggle-btn" data-value="ì–‘ì‹">ì–‘ì‹</div>
            </div>
            <input type="hidden" id="foodType" name="foodType" required>
        </section>

        <!-- ì˜¤ëŠ˜ì˜ ê¸°ë¶„ -->
        <section>
            <label for="mood">ì˜¤ëŠ˜ì˜ ê¸°ë¶„</label>
            <input type="text" id="mood" name="mood" placeholder="ì˜ˆ: ì‹ ë‚˜ëŠ”, í”¼ê³¤í•œ, ìš°ìš¸í•œ" />
        </section>

        <button type="submit">ì¶”ì²œë°›ê¸° ğŸ‰</button>
    </form>

    <div class="result" id="result"></div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
      const budgetInput = document.getElementById("budget");
      const budgetValue = document.getElementById("budgetValue");
      const resultDiv = document.getElementById("result");
      const foodTypeInput = document.getElementById("foodType");
      const foodButtons = document.querySelectorAll(".toggle-btn");

      // ì˜ˆì‚° ì‹¤ì‹œê°„ í‘œì‹œ
      budgetInput.addEventListener("input", () => {
        budgetValue.textContent = parseInt(budgetInput.value).toLocaleString() + "ì›";
      });

      // í† ê¸€ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬
      foodButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          foodButtons.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          foodTypeInput.value = btn.dataset.value;
        });
      });

      // ë©”ë‰´ ë°ì´í„°
      const menuDB = {
        "í•œì‹": [
          { name: "ê¹€ì¹˜ì°Œê°œ", spicy: "ë§¤ìš´ë§›", price: 8000 },
          { name: "ë¶ˆê³ ê¸°", spicy: "ë³´í†µë§›", price: 12000 },
          { name: "ë¹„ë¹”ë°¥", spicy: "ë³´í†µë§›", price: 9000 },
          { name: "ì‚¼ê³„íƒ•", spicy: "ìˆœí•œë§›", price: 15000 }
        ],
        "ì¤‘ì‹": [
          { name: "ì§œì¥ë©´", spicy: "ìˆœí•œë§›", price: 6000 },
          { name: "ì§¬ë½•", spicy: "ë§¤ìš´ë§›", price: 8000 },
          { name: "íƒ•ìˆ˜ìœ¡", spicy: "ìˆœí•œë§›", price: 13000 }
        ],
        "ì¼ì‹": [
          { name: "ì´ˆë°¥", spicy: "ìˆœí•œë§›", price: 15000 },
          { name: "ë¼ë©˜", spicy: "ë³´í†µë§›", price: 10000 },
          { name: "ëˆê¹ŒìŠ¤", spicy: "ìˆœí•œë§›", price: 9000 }
        ],
        "ì–‘ì‹": [
          { name: "íŒŒìŠ¤íƒ€", spicy: "ë³´í†µë§›", price: 13000 },
          { name: "í”¼ì", spicy: "ìˆœí•œë§›", price: 16000 },
          { name: "ìŠ¤í…Œì´í¬", spicy: "ë³´í†µë§›", price: 20000 }
        ]
      };

      // ì œì¶œ ì´ë²¤íŠ¸
      document.getElementById("menuForm").addEventListener("submit", (e) => {
        e.preventDefault();

        const spicy = document.getElementById("spicy").value;
        const budget = parseInt(budgetInput.value);
        const foodType = foodTypeInput.value;
        const mood = document.getElementById("mood").value.trim();

        if (!foodType) {
          alert("ìŒì‹ ì¢…ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!");
          return;
        }

        // ì¡°ê±´ í•„í„°ë§
        let filteredMenu = menuDB[foodType].filter(item =>
          (spicy === "ì „ì²´" || item.spicy === spicy) &&
          item.price <= budget
        );

        // ê¸°ë¶„ ì¡°ê±´ ê°•í™”
        if (mood.includes("í”¼ê³¤")) {
          filteredMenu = filteredMenu.filter(item =>
            item.name.includes("êµ­") || item.name.includes("ì°Œê°œ") || item.name.includes("íƒ•") || item.name.includes("ë¼ë©˜")
          );
        } else if (mood.includes("ì‹ ë‚˜") || mood.includes("ì¦ê±°")) {
          filteredMenu = filteredMenu.filter(item =>
            item.name.includes("ë¶ˆê³ ê¸°") || item.name.includes("í”¼ì") || item.name.includes("ìŠ¤í…Œì´í¬")
          );
        } else if (mood.includes("ìš°ìš¸") || mood.includes("ìŠ¬í¼")) {
          filteredMenu = filteredMenu.filter(item =>
            item.name.includes("ë¹„ë¹”ë°¥") || item.name.includes("ì´ˆë°¥") || item.name.includes("ëˆê¹ŒìŠ¤")
          );
        }

        // ê²°ê³¼ í‘œì‹œ
        if (filteredMenu.length > 0) {
          const randomMenu = filteredMenu[Math.floor(Math.random() * filteredMenu.length)];
          resultDiv.textContent = `ì¶”ì²œ ë©”ë‰´ ğŸ‘‰ ${randomMenu.name} (ê°€ê²© ${randomMenu.price}ì› / ${randomMenu.spicy})`;
        } else {
          resultDiv.textContent = "ğŸ˜¢ ì¡°ê±´ì— ë§ëŠ” ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤. ì˜ˆì‚°ì„ ì¡°ì •í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì¡°ê±´ì„ ì„ íƒí•´ë³´ì„¸ìš”!";
        }
      });
    });
</script>
</body>
</html>
